---
published: true
layout: post
title: Створення завантажувальної флешки з Tails
author: think4web
discription: Створення завантажувальної флешки Live-USB і налаштування операційной системи Tails.
tags: tails software privacy tor
---

[Tails](/Tails) - портативна система яка встановлюється на флешку і дозволяє отримати максимальну конфіденційність.

На офіційному сайті є хороша інструкції і документація по встановленню і налаштуванню системи.

## Встановлення Tails

Є два варіанти встановлення Tails:
- більш параноїдальне встановлення образу ISO через дві флешки;
- більш зручне встановлення образу image на одну флешку як звичайної системи Linux.

Для обох варіантів є інструкція на офіційному сайті.

### Образ ISO та дві флешки

Tails встановлюється на флешку з якої буде запускатися у режимі Live-USB. Але для встановлення системи потрібно дві флешки бо Taisl краще встановлювати за допомогою Tails.

Завантажуємо ISO-образ з [офіційного сайту Tails](https://tails.boum.org/) та перевіряємо його за допомогою OpenPGP. Потім записуємо образ на першу флешку. Перезавантажуємо комп'ютер та завантажуємося з першої флешки. Після завантаження Tails вставляємо другу флешку та вибираємо **Applications → Tails → Tails Installer Install by Cloning**. Встановлюємо систему на другу флешку.

### Образ image та нормальна установка

Завантажуємо image-образ з [офіційного сайту Tails](https://tails.boum.org/) та перевіряємо його за допомогою OpenPGP. Потім записуємо образ на флешку і все, можна користуватися системою.

## Налаштування Tails

### Створення захищеного розділу

Створюємо постійний (персистентний) захищений розділ на флешці: **Application → Tails → Configure Persistence**. Перезавантажуємося і вибираємо на екрані завантаження **Use Persistence**, а далі **More Options** де вводимо пароль від захищеного розділу.

### Встановлення додаткових програм через Tor

У меню внизу екрану вибираємо регіон бо саме від регіону залежать вхідні вузли Tor. Регіон може не співпадати з фізичним положенням і треба дивитись на швидкість з'єднання.

Після завантаження Tails буде деякий час підключатися до Tor. Про успішне підключення Tails проінформує. Прогрес підключення можна перевірити натиснувши на іконку **Onion Circuits** у верхньому правому куті екрану. Після чого можна встановлювати усі необхідні для роботи програми. За замовчуванням мережа сконфігурованa так що увесь трафік буде проходити через Tor.

### Збереження налаштувань

За замовчуванням Tails не зберігає налаштування програм, але є можливість зберігати деякі дані у персистентному розділі. Щоб налаштувати що саме має зберігатися необхідно перейти **Settings → Persistent**. Будуть наступні розділи:
- **APT Packeges** та **APT List** - Tails базується на Debian і програми у неї встановлюються за допомогою ```apt-get``` та при перезавантаження комп'ютеру не зберігаються, але APT-пакети можна зберігти у персистентному розділі. Тоді потрібні пакети будуть встановлюватись під час завантаження системи;
- **Dotfiles** - створює у персистентному розділі папку з файлами, посилання на які будуть створюватись під час завантаження системи.

### Подвійний контейнер TrueCrypt

Додатковим захистом інформації може бути створення прихованого розділу TrueCrypt, що буде не буде відрізнятися від випадкових даних, тому його буде неможливо виявити. Файл програми TrueCrypt краще зберігати на персистентному розділі. 

Прихований контейнер TrueCrypt буде невидимий для системи поки відмонтований, тому вона може пошкодити його записавши на його місце щось. Щоб цього не сталося при монтуванні несправжнього розділу вказати: **Mount Options → Protect hidden volume when mounting outer volume**.

У випадку небезпеки можна буде ввести пароль від несправжнього розділу і показати випадкові файли що у ньому знаходяться, але приховати справжній шифрований розділ. 

### Pidgeon

[Pidgeon](/Pidgeon/) - XMPP та IRC клієнт. У Tails він включений з плагіном OTR. Цей модуль забезпечує шифровану передачу даних з можливістью відмови, тобто не можливо буде довести що повідомлення написано конкретною людиною. 

При підключення до IRC необхідно упевнитись у використанні SSL. Хоча Tor шифрує трафік під час передачи його між вузлами, без SSL трафік буде передаватися у відкритому виді до вхідного і з вихідного вузла Tor. Деякі вузли заблоковані на серверах IRC, тому доведеться перезапустити Tor:

```bash 
/etc/init.d/tor restart
```

Після під'єднання до серверу вибираємо: **Buddies → New Instant Message** і у відкрившимуся вікні: **Not Private → Start Private Conversation**. Програма запропонує три варіанти автентифікації, про які можна заздалегідь домовитись зі співрозмовником. 

### Голосове спілкування

Більшість VoIP-програм використовують UDP, а через Tor можлива передача лише пакетів TCP. Увесь трафік Tails йде через Tor, а сам Tor працює трохи з затримками. Тому варіантів програм для голосового спілкування не так багато: є плагін OnionPhone для TorChat та менш безпечний Mumble, який можна запускати через Tor завдяки torify: ```torify mumble``` або вибравши у налаштуваннях програми **Force TCP**.

### Пошта

Icedove - поштовий клієнт аналогічний Thunderbird. Тому налаштовується він також аналогічно. Налаштування та ключі шифрування можна зберігати у персистентному розділі. У листах не шифруються заголовки (subject), що є особливістю реалізації протоколу. При пересилання файлів, їх краще шифрувати. 
