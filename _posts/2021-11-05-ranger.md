---
published: true
layout: post
title: ranger - консольний менеджер файлів
author: think4web
discription: Мінімалістичний і зручний консольний менеджер файлів.
tags: ranger software
---

[ranger](https://github.com/ranger/ranger) - консольний python/ncurses файловий менеджер, який представляє дерево каталогів у трьох колонках, при цьому середня є "активною", а права призначена для попереднього перегляду. 

## Файли конфігурації ranger

Після встановлення пакету **ranger** з офіційного репозиторію необхідно скопіювати файли налаштування у локальну директорію:
```bash
ranger --copy-config=all
```

Це створить необхідні файли в ```~/.config/ranger```. 

За замовчуванням попередній перегляд ввімкнутий ліше для текстових файлів, але можна дозволити інші скрипти для перегляду опціями:
**use\_preview\_script** та **preview_files** у файлі **~/.config/ranger/scope.sh**.

Для відкриття файлів ranger використовує rifle, налаштування якого знаходяться у **~/.config/ranger/rifle.conf**.
- ```rc.conf``` - конфігурація;
- ```commands.py``` - модуль, що обробляє команди введені після ":";
- ```commands_full.py``` - ігнорується програмою, посилання для команд користувача;
- ```copy_buffer``` - шляхи усіх скопійованих файлів;
- ```history``` - історія команд;
- ```tagged``` - список відмічених файлів;
- ```colorschemes``` - кольорові схеми;
- ```bookmarks``` - закладки;
- ```plugins``` - плагіни.

## Налаштування ranger

### Попередній перегляд зображень

Для попереднього перегляду частіше за все використовується рендерінг за допомогою **w3mimgdisplay**. Щоб його налаштувати достатньо доадти у файл ```~/.config/ranger/rc.conf``` рядок:

```bash
setpreview_images_method w3m
set preview_images true
```

Або можна відмальовувати зображення у ASCII, для цього треба встановити **img2txt** та **libcaca** і додати у ```~/.config/ranger/rc.conf``` рядок:

```bash
set preview_images false
set use_preview_script true
set preview_images false
```

А також перевірити чи не закоментований рядок:

```bash
img2txt --gamma=0.6 --width="${PV\_WIDTH}" -f utf8 -- "${FILE\_PATH}" && exit 4
```

### Зовнішній вигляд ranger

За замовчуванням ranger має наступні кольорові схеми:
- **default**
- **jungle**
- **snow**
- **solarized**

Вибір кольорової схеми відбувається параметром у ```~/.config/ranger/rc.conf```:

```bash
set colorscheme default
```

## Управління ranger

Нвігація:
- **j** - переміщення вниз;
- **k** - переміщення вверх;
- **h** - перейти у батьківський каталог;
- **gg** - перейти у начало списку;
- **G** - перейти у кінець списку;
- **Ctrl+f** - прокрутити вниз;
- **Ctrl+b** - прокрутити вверх;
- **J** - переміщення вниз на півсторінки;
- **K** - переміститись вверх на півсторінки;
- **H** - повернутись назад по історії;
- **L** - переміститись вперед по історії.

Переміщення по деректоріям:
- **gh** = ```cd ~``` 
- **ge** = ```cd /etc```
- **gu** = ```cd /usr```
- **gd** = ```cd /dev```
- **go** = ```cd /opt```
- **gv** = ```cd /var```
- **gm** = ```cd /media```
- **gM** = ```cd /mnt```
- **gs** = ```cd /srv```
- **gr** = ```cd /```
- **gR** = ```cd``` для глобальної конфігурації.

Робота з файлами:
- **i** - попередній перегляд файлу;
- **L** або **E** - відкрити файл;
- **r** - вибрати програму за допомогою якої відкрити файл;
- **z** - змінити налаштування;
- **zh** - показати приховані файли;
- **Space** - вибрати поточний файл;
- **t** - позначити файл;
- **cw** - перейменувати поточний файл;
- **/** - пошук файлів;
  - **n** - перейти до наступного співпадіння;
  - **N** - перейти до попереднього співпадіння;
- **yy** - скопіювати файл;
- **dd** - вирізати файл;
- **pp** - вставити файл;
- **Delete** - видалити файл.

Робота з вкладками:
- **Ctrl+n** - створити нову вкладку;
- **Ctrl+w** - закрити нову вкладку;
- **Tab** - перейти на наступну вкладку;
- **Shift+Tab** - перейти на попереднью вкладку.

Команди:
- **?** - довідка по ranger;
- **1?** - довідка по комбінації клавіш;
- **2?** - довідка по командам;
- **3?** - довідка по налаштуванням;
- **R** - оновити поточний каталог;
- **Q** - вихід;
- **!** - виконати команду оболонки;
- **:** - виконати команду ranger;
- **du** - покизати розмір каталогів у поточній директорії;
- **chmod** - змінити права на поточний файл.

Прапори змінюють поведінку команд оболонки або ranger. Їх використовують з тире та після ":".

Прапори:
- **```-s```**
- **```-d```**
- **```-p```**
- **```-w```**
- **```-c```**

## Помилки

Якщо при рендерінгі зображень з'являються чорні полоси - це може бути пов'язано з ненадійним механізмом роботи **w3mimgdisplay**. Можна спробувати поставити у ```~/.config/ranger/rc.conf``` рядок:

```bash
set draw_borders true
```
